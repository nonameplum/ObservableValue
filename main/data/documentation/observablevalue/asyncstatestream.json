{"abstract":[{"text":"A non-throwing async sequence that yields the latest value from an ","type":"text"},{"identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/ObservedValue","isActive":true,"type":"reference"},{"text":".","type":"text"}],"seeAlsoSections":[{"anchor":"Essentials","identifiers":["doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/ObservedValue"],"title":"Essentials","generated":true}],"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"AsyncStateStream"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"Value"},{"kind":"text","text":"> "},{"kind":"keyword","text":"where"},{"kind":"text","text":" "},{"kind":"typeIdentifier","text":"Value"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","preciseIdentifier":"s:s8SendableP","text":"Sendable"}],"platforms":["iOS"],"languages":["swift"]}]},{"kind":"content","content":[{"text":"Overview","anchor":"overview","level":2,"type":"heading"},{"inlineContent":[{"text":"Each iterator maintains an independent cursor, allowing multiple concurrent consumers.","type":"text"},{"text":" ","type":"text"},{"text":"Iterators always receive the current value on first call to ","type":"text"},{"code":"next()","type":"codeVoice"},{"text":", then suspend","type":"text"},{"text":" ","type":"text"},{"text":"until the value changes.","type":"text"}],"type":"paragraph"},{"text":"Overview","anchor":"Overview","level":2,"type":"heading"},{"code":["let state = ObservedValue(\"idle\")","","Task {","    for await value in state.values {","        print(\"observer 1:\", value)","    }","}","","Task {","    for await value in state.values {","        print(\"observer 2:\", value)","    }","}"],"syntax":"swift","type":"codeListing"},{"text":"Backpressure","anchor":"Backpressure","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"Producers are never blocked. If a consumer is slow, it receives the latest value"},{"type":"text","text":" "},{"type":"text","text":"when it resumes—intermediate values may be skipped."}],"type":"paragraph"},{"text":"Termination","anchor":"Termination","level":2,"type":"heading"},{"inlineContent":[{"type":"text","text":"The sequence terminates (yields "},{"code":"nil","type":"codeVoice"},{"type":"text","text":") when:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"The owning ","type":"text"},{"isActive":true,"identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/ObservedValue","type":"reference"},{"text":" is deallocated.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The consuming task is cancelled."}]}]}],"type":"unorderedList"},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/ObservedValue","type":"reference","isActive":true}]}],"name":"See Also","type":"aside"}]}],"identifier":{"url":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream","interfaceLanguage":"swift"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/observablevalue\/asyncstatestream"]}],"kind":"symbol","schemaVersion":{"major":0,"minor":3,"patch":0},"relationshipsSections":[{"identifiers":["doc:\/\/observablevalue.ObservableValue\/s8SendableP","doc:\/\/observablevalue.ObservableValue\/s16SendableMetatypeP","doc:\/\/observablevalue.ObservableValue\/Sci"],"title":"Conforms To","type":"conformsTo","kind":"relationships"}],"metadata":{"title":"AsyncStateStream","navigatorTitle":[{"text":"AsyncStateStream","kind":"identifier"}],"modules":[{"name":"ObservableValue"}],"externalID":"s:15ObservableValue16AsyncStateStreamV","symbolKind":"struct","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"AsyncStateStream"}],"role":"symbol","roleHeading":"Structure"},"hierarchy":{"paths":[["doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue"]]},"topicSections":[{"anchor":"Structures","identifiers":["doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream\/AsyncIterator"],"title":"Structures","generated":true},{"anchor":"Instance-Methods","identifiers":["doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream\/makeAsyncIterator()"],"title":"Instance Methods","generated":true},{"anchor":"Type-Aliases","identifiers":["doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream\/Element","doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream\/Failure"],"title":"Type Aliases","generated":true},{"anchor":"Default-Implementations","identifiers":["doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream\/AsyncSequence-Implementations"],"title":"Default Implementations","generated":true}],"sections":[],"references":{"doc://observablevalue.ObservableValue/documentation/ObservableValue":{"identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue","role":"collection","url":"\/documentation\/observablevalue","abstract":[{"text":"Current-value semantics for Swift concurrency: a multi-consumer async sequence that always yields the latest value—like Combine’s ","type":"text"},{"type":"codeVoice","code":"CurrentValueSubject"},{"text":", but for async\/await.","type":"text"}],"title":"ObservableValue","kind":"symbol","type":"topic"},"doc://observablevalue.ObservableValue/documentation/ObservableValue/AsyncStateStream/makeAsyncIterator()":{"title":"makeAsyncIterator()","abstract":[{"text":"Creates a new iterator with an independent cursor.","type":"text"}],"role":"symbol","url":"\/documentation\/observablevalue\/asyncstatestream\/makeasynciterator()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"makeAsyncIterator"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:15ObservableValue16AsyncStateStreamV0C8IteratorV","text":"AsyncIterator"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream\/makeAsyncIterator()"},"doc://observablevalue.ObservableValue/documentation/ObservableValue/ObservedValue":{"kind":"symbol","identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/ObservedValue","navigatorTitle":[{"text":"ObservedValue","kind":"identifier"}],"role":"symbol","title":"ObservedValue","url":"\/documentation\/observablevalue\/observedvalue","abstract":[{"text":"A thread-safe container that holds a current value and broadcasts changes to multiple async consumers.","type":"text"}],"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ObservedValue","kind":"identifier"}],"type":"topic"},"doc://observablevalue.ObservableValue/documentation/ObservableValue/AsyncStateStream/AsyncSequence-Implementations":{"title":"AsyncSequence Implementations","identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream\/AsyncSequence-Implementations","kind":"article","url":"\/documentation\/observablevalue\/asyncstatestream\/asyncsequence-implementations","type":"topic","abstract":[],"role":"collectionGroup"},"doc://observablevalue.ObservableValue/documentation/ObservableValue/AsyncStateStream/Failure":{"identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream\/Failure","role":"symbol","abstract":[],"type":"topic","kind":"symbol","navigatorTitle":[{"text":"Failure","kind":"identifier"}],"title":"AsyncStateStream.Failure","fragments":[{"text":"typealias","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Failure","kind":"identifier"}],"url":"\/documentation\/observablevalue\/asyncstatestream\/failure"},"doc://observablevalue.ObservableValue/s8SendableP":{"identifier":"doc:\/\/observablevalue.ObservableValue\/s8SendableP","title":"Swift.Sendable","type":"unresolvable"},"doc://observablevalue.ObservableValue/documentation/ObservableValue/AsyncStateStream/Element":{"navigatorTitle":[{"kind":"identifier","text":"Element"}],"type":"topic","abstract":[],"kind":"symbol","url":"\/documentation\/observablevalue\/asyncstatestream\/element","title":"AsyncStateStream.Element","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"Element"}],"identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream\/Element","role":"symbol"},"doc://observablevalue.ObservableValue/s16SendableMetatypeP":{"identifier":"doc:\/\/observablevalue.ObservableValue\/s16SendableMetatypeP","title":"Swift.SendableMetatype","type":"unresolvable"},"doc://observablevalue.ObservableValue/documentation/ObservableValue/AsyncStateStream/AsyncIterator":{"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"AsyncIterator","kind":"identifier"}],"kind":"symbol","abstract":[{"text":"An iterator that suspends until the next value change.","type":"text"}],"identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream\/AsyncIterator","navigatorTitle":[{"text":"AsyncIterator","kind":"identifier"}],"url":"\/documentation\/observablevalue\/asyncstatestream\/asynciterator","title":"AsyncStateStream.AsyncIterator","type":"topic","role":"symbol"},"doc://observablevalue.ObservableValue/documentation/ObservableValue/AsyncStateStream":{"identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/AsyncStateStream","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"AsyncStateStream"}],"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"AsyncStateStream"}],"abstract":[{"type":"text","text":"A non-throwing async sequence that yields the latest value from an "},{"type":"reference","identifier":"doc:\/\/observablevalue.ObservableValue\/documentation\/ObservableValue\/ObservedValue","isActive":true},{"type":"text","text":"."}],"title":"AsyncStateStream","type":"topic","role":"symbol","url":"\/documentation\/observablevalue\/asyncstatestream"},"doc://observablevalue.ObservableValue/Sci":{"identifier":"doc:\/\/observablevalue.ObservableValue\/Sci","title":"_Concurrency.AsyncSequence","type":"unresolvable"}}}